{"version":3,"file":"static/js/600.265fb122.chunk.js","mappings":"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","sources":["Component/DenseTable.tsx","Component/TrackCard.tsx","Component/TrackWavesurfer.tsx","Page/TrackPlayer.tsx"],"sourcesContent":["import Table from '@mui/material/Table';\nimport TableBody from '@mui/material/TableBody';\nimport TableCell from '@mui/material/TableCell';\nimport TableContainer from '@mui/material/TableContainer';\nimport TableHead from '@mui/material/TableHead';\nimport TableRow from '@mui/material/TableRow';\nimport Paper from '@mui/material/Paper';\nimport DeleteIcon from '@mui/icons-material/Delete';\nimport { useEffect, useState } from 'react';\n\ntype DenseTableProps = {\n  name: string;\n  headers: string[];\n  data: string[][];\n  focusIndex?: number;\n  rowOnClick?: (e?: React.MouseEvent<HTMLTableRowElement, MouseEvent>, index?: number, value?: any) => void;\n  onDelete?: (rowIndex: number, value: any) => void;\n}\n\nexport default function DenseTable(props: DenseTableProps) {\n  const [curRow, setCurRow] = useState(0);\n\n  useEffect(() => {\n    if (props.focusIndex) {\n      setCurRow(props.focusIndex);\n    }\n  }, [props.focusIndex]);\n\n  const renderCol = (colsVal: string[], rowIndex: number) => {\n    const cols = colsVal.map((col, colIndex) => (\n      <TableCell key={`${props.name}-table-col-${colIndex}`} component=\"th\" scope=\"row\" align={colIndex > 0 ? \"right\" : \"left\"}>\n        {col}\n      </TableCell>\n    ));\n    if (props.onDelete) {\n      cols.push(\n        <TableCell key={`${props.name}-table-col-delete`} component=\"th\" scope=\"row\" align={\"center\"} sx={{ verticalAlign: \"middle\" }}>\n          <DeleteIcon visibility={curRow === rowIndex ? \"inherit\" : \"hidden\"} onClick={() => { if (props.onDelete) props.onDelete(rowIndex, colsVal) }} sx={{ color: \"grey\"}} />\n        </TableCell>\n      )\n    }\n    return cols;\n  }\n  return (\n    <TableContainer component={Paper}>\n      <Table size=\"small\" aria-label=\"a dense table\">\n        <TableHead>\n          <TableRow>\n            {\n              props.headers.map((header, index) => {\n                return (\n                  <TableCell key={`${props.name}-table-header-${index}`} align={index > 0 ? \"right\" : \"left\"}>{header}</TableCell>\n                )\n              })\n            }\n          </TableRow>\n        </TableHead>\n        <TableBody>\n          {props.data.map((row, index) => {\n            return (\n              <TableRow\n                hover={index !== props.focusIndex}\n                key={`${props.name}-table-row-${index}`}\n                sx={{ '&:last-child td, &:last-child th': { border: 0 }, background: props.focusIndex === index ? \"lightgreen\" : \"inherit\", cursor: \"pointer\" }}\n                onClick={(e: React.MouseEvent<HTMLTableRowElement, MouseEvent>) => { if (props.rowOnClick) props.rowOnClick(e, index, row) }}\n                onMouseEnter={() => { setCurRow(index) }}\n              >\n                {\n                  renderCol(row, index)\n                }\n              </TableRow>\n            )\n          })}\n        </TableBody>\n      </Table>\n    </TableContainer>\n  );\n}","import { useEffect, useState } from \"react\";\n\nimport Card from \"@mui/material/Card\";\nimport Stack from \"@mui/material/Stack\";\nimport CardMedia from \"@mui/material/CardMedia\";\nimport Typography from \"@mui/material/Typography\";\nimport IconButton from \"@mui/material/IconButton\";\n\nimport SkipNext from \"@mui/icons-material/SkipNext\";\nimport SkipPrevious from \"@mui/icons-material/SkipPrevious\";\nimport PauseRounded from \"@mui/icons-material/PauseRounded\";\nimport PlayArrowRounded from \"@mui/icons-material/PlayArrowRounded\";\nimport FastRewindRounded from '@mui/icons-material/FastRewindRounded';\nimport FastForwardRounded from \"@mui/icons-material/FastForwardRounded\";\n\ntype TrackCardProps = {\n  filename: string;\n  id: string;\n  externalPaused?: boolean;\n  playOnClick?: () => void;\n  skipNext?: () => void;\n  skipPrevious?: () => void;\n}\n\nfunction randomIntFromInterval(min: number, max: number) { // min and max included \n  return Math.floor(Math.random() * (max - min + 1) + min);\n}\n\nexport default function TrackCard(props: TrackCardProps) {\n  const [paused, setPaused] = useState(true);\n  const rndInt = randomIntFromInterval(1, 3);\n  useEffect(() => {\n    if (props.externalPaused !== undefined) {\n      setPaused(props.externalPaused);\n    }\n  }, [props.externalPaused]);\n\n  return (\n    <Card\n      variant=\"outlined\"\n      sx={{\n        p: 2,\n        width: { xs: '100%', sm: 'auto' },\n        display: 'flex',\n        flexDirection: { xs: 'column', sm: 'row' },\n        alignItems: 'center',\n        gap: 2,\n      }}\n    >\n      <CardMedia\n        component=\"img\"\n        width=\"100\"\n        height=\"100\"\n        alt={`${props.id}-img`}\n        src={`a${rndInt}.png`}\n        sx={{\n          width: { xs: '100%', sm: 100 },\n        }}\n      />\n      <Stack direction=\"column\" alignItems=\"center\" spacing={1} useFlexGap>\n        <div>\n          <Typography color=\"text.primary\" fontWeight=\"semiBold\">\n            {props.filename}\n          </Typography>\n          <Typography\n            variant=\"caption\"\n            color=\"text.secondary\"\n            fontWeight=\"medium\"\n            textAlign=\"center\"\n            sx={{ width: '100%' }}\n          >\n            {props.id}\n          </Typography>\n        </div>\n        <Stack direction=\"row\" alignItems=\"center\" spacing={1} useFlexGap>\n          <IconButton id=\"track-card-previous\" aria-label=\"Previous skip\" size=\"small\"\n            onClick={() => { if (props.skipPrevious) props.skipPrevious(); }}\n          >\n            <SkipPrevious fontSize=\"small\" />\n          </IconButton>\n          <IconButton id=\"track-card-rewind\" aria-label=\"Fast rewind\" size=\"small\">\n            <FastRewindRounded fontSize=\"small\" />\n          </IconButton>\n          <IconButton\n            id=\"track-card-play-pause\"\n            aria-label={paused ? 'Play music' : 'Pause music'}\n            onClick={props.playOnClick ? props.playOnClick : () => setPaused((val) => !val)}\n            sx={{ mx: 1 }}\n          >\n            {paused ? <PlayArrowRounded /> : <PauseRounded />}\n          </IconButton>\n          <IconButton id=\"track-card-fastfoward\" aria-label=\"Fast forward\" size=\"small\">\n            <FastForwardRounded fontSize=\"small\" />\n          </IconButton>\n          <IconButton id=\"track-card-next\" aria-label=\"Next skip\" size=\"small\"\n            onClick={() => { if (props.skipNext) props.skipNext(); }}\n          >\n            <SkipNext fontSize=\"small\" />\n          </IconButton>\n        </Stack>\n      </Stack>\n    </Card>\n  )\n}","import axios from 'axios';\nimport { useEffect, useState } from 'react';\n\nimport WaveSurfer from 'wavesurfer.js';\n// @ts-ignore\n// import Spectrogram from 'wavesurfer.js/dist/plugins/spectrogram.esm.js'\n// @ts-ignore\nimport Hover from 'wavesurfer.js/dist/plugins/hover.esm.js'\n\nimport \"./waveform.css\";\n\nimport { EnumHost } from '../type/EnumHost';\nimport { EnumEndpoint } from '../type/EnumEndpoint';\n\nconst formatTime = (seconds: number) => {\n  const minutes = Math.floor(seconds / 60)\n  const secondsRemainder = Math.round(seconds) % 60\n  const paddedSeconds = `0${secondsRemainder}`.slice(-2)\n  return `${minutes}:${paddedSeconds}`\n}\n\ntype TrackPlayerProps = {\n  data?: Blob;\n  trackId?: string;\n  onClick: () => void;\n}\n\nexport default function TrackWavesurfer(props: TrackPlayerProps) {\n  const [wavesurfer, setWavesurfer] = useState<WaveSurfer | null>(null)\n\n  useEffect(() => {\n    if (wavesurfer) wavesurfer.destroy();\n    const canvas = document.createElement('canvas');\n    const ctx = canvas.getContext('2d') as CanvasRenderingContext2D;\n\n    // Define the waveform gradient\n    const gradient = ctx.createLinearGradient(0, 0, 0, canvas.height * 1.35)\n    gradient.addColorStop(0, '#656666') // Top color\n    gradient.addColorStop((canvas.height * 0.7) / canvas.height, '#656666') // Top color\n    gradient.addColorStop((canvas.height * 0.7 + 1) / canvas.height, '#ffffff') // White line\n    gradient.addColorStop((canvas.height * 0.7 + 2) / canvas.height, '#ffffff') // White line\n    gradient.addColorStop((canvas.height * 0.7 + 3) / canvas.height, '#B1B1B1') // Bottom color\n    gradient.addColorStop(1, '#B1B1B1') // Bottom color\n\n    // Define the progress gradient\n    const progressGradient = ctx.createLinearGradient(0, 0, 0, canvas.height * 1.35)\n    progressGradient.addColorStop(0, '#EE772F') // Top color\n    progressGradient.addColorStop((canvas.height * 0.7) / canvas.height, '#EB4926') // Top color\n    progressGradient.addColorStop((canvas.height * 0.7 + 1) / canvas.height, '#ffffff') // White line\n    progressGradient.addColorStop((canvas.height * 0.7 + 2) / canvas.height, '#ffffff') // White line\n    progressGradient.addColorStop((canvas.height * 0.7 + 3) / canvas.height, '#F6B094') // Bottom color\n    progressGradient.addColorStop(1, '#F6B094') // Bottom color\n\n    const ws = WaveSurfer.create({\n      container: \"#waveform\",\n      waveColor: gradient,\n      progressColor: progressGradient,\n      barWidth: 2,\n      cursorColor: \"#4a74a5\",\n      height: 80,\n      hideScrollbar: true,\n      plugins: [\n        Hover.create({\n          lineColor: '#ff0000',\n          lineWidth: 2,\n          labelBackground: '#555',\n          labelColor: '#fff',\n          labelSize: '11px',\n        }),\n        // Spectrogram.create({\n        //   labels: true,\n        //   height: 80,\n        //   splitChannels: true,\n        // }),\n      ]\n    });\n\n    // Play/pause on click\n    ws.on('interaction', () => {\n      ws.playPause();\n    });\n\n    const hover = document.querySelector('#hover') as any;\n    const wf = document.querySelector('#waveform') as Element;\n    wf.addEventListener('pointermove', (e: any) => (hover.style.width = `${e.offsetX}px`));\n\n    const timeEl = document.querySelector('#time') as Element;\n    const durationEl = document.querySelector('#duration') as Element;\n    ws.on('decode', (duration) => (durationEl.textContent = formatTime(duration)))\n    ws.on('timeupdate', (currentTime) => (timeEl.textContent = formatTime(currentTime)))\n\n    const rewindEl = document.querySelector(\"#track-card-rewind\") as any;\n    const ffEl = document.querySelector(\"#track-card-fastfoward\") as any;\n    const pp = document.querySelector(\"#track-card-play-pause\") as any;\n    rewindEl.onclick = () => {\n      ws.skip(-30);\n    }\n    ffEl.onclick = () => {\n      ws.skip(30)\n    }\n    pp.onclick = () => {\n      ws.playPause();\n    }\n\n    setWavesurfer(ws);\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n\n  useEffect(() => {\n    async function loadWavesurfer() {\n      if (wavesurfer && props.trackId) {\n        const jwt = sessionStorage.getItem(\"jwt\");\n        const url = `${EnumHost.LOCAL}${EnumEndpoint.TRACK}/${props.trackId}`;\n        const res = await axios.get(url, {\n          headers: {\n            \"Authorization\": `Bearer ${jwt}`\n          },\n          responseType: \"blob\"\n        });\n\n        await wavesurfer.loadBlob(res.data);\n      }\n    }\n    loadWavesurfer();\n  }, [props.trackId, wavesurfer]);\n\n  return (\n    <div id=\"waveform\" onClick={props.onClick}>\n      <div id=\"time\">0:00</div>\n      <div id=\"duration\">0:00</div>\n      <div id=\"hover\"></div>\n    </div>\n  )\n}","import { Form, useLoaderData } from \"react-router-dom\";\nimport { useCallback, useEffect, useState } from \"react\";\n\nimport Box from \"@mui/material/Box\";\nimport Grid from \"@mui/material/Grid\";\nimport Button from '@mui/material/Button';\nimport Dialog from '@mui/material/Dialog';\nimport Divider from \"@mui/material/Divider\";\nimport TextField from \"@mui/material/TextField\";\nimport Container from \"@mui/material/Container\";\nimport Typography from \"@mui/material/Typography\";\nimport DialogTitle from '@mui/material/DialogTitle';\nimport DialogActions from '@mui/material/DialogActions';\nimport DialogContent from '@mui/material/DialogContent';\nimport DialogContentText from '@mui/material/DialogContentText';\n\n\nimport { ITrackRes } from \"../type/ITrackRes\";\nimport TrackCard from \"../Component/TrackCard\";\nimport DenseTable from \"../Component/DenseTable\";\nimport TrackWavesurfer from '../Component/TrackWavesurfer';\n\nexport default function TrackPlayer() {\n  const [trackIndex, setTrackIndex] = useState <number>(0);\n  const [trackData, setTrackData] = useState <string[][]>([]);\n  const [paused, setPaused] = useState(true);\n  const [dialogText, setDialogText] = useState(\"\");\n  const [deleteId, setDeleteId] = useState(\"\");\n\n  const { tracks } = useLoaderData() as { tracks: ITrackRes[] };\n\n  const closeDialog = () => { setDialogText(\"\"); }\n\n  const callDeleteTrack = useCallback(async (index: number, track: any) => {\n    console.log(track)\n    setDialogText(`You are about to delete track ${track[0]}`);\n    setDeleteId(track[0]);\n  }, []);\n\n  useEffect(() => {\n    if (tracks && tracks.length > 0) {\n      const td = tracks.map((track) => {\n        return [track.id, track.filename]\n      });\n      setTrackData(td);\n      // Default set to first track\n      setTrackIndex(0);\n    }\n  }, [tracks]);\n\n  const handleRowClick = (e?: React.MouseEvent<HTMLTableRowElement, MouseEvent>, index?: number) => { \n    if (index!== undefined) {\n      setTrackIndex(index);\n      setPaused(true);\n    }\n  }\n\n  const skipNext = useCallback(() => {\n    const newIndex = trackIndex + 1;\n    if (newIndex < tracks.length) {\n      setTrackIndex(newIndex);\n    }\n  }, [trackIndex, tracks.length]);\n\n  const skipPrevious = useCallback(() => {\n    const newIndex = trackIndex - 1;\n    if (newIndex >= 0) {\n      setTrackIndex(newIndex);\n    }\n  }, [trackIndex])\n\n  const renderTracks = () => {\n    const curTrack = tracks[trackIndex];\n    if (!curTrack) {\n      return (\n        <Grid container>\n          <Grid item xs={12} md={6}>\n            <Typography variant=\"h1\" component=\"h2\">No tracks just yet, upload one to get started :)</Typography>\n          </Grid >\n        </Grid>\n      )\n    }\n\n    return (\n      <>\n        <Grid container spacing={6} sx={{ mb: \"20px\" }}>\n          <Grid item xs={12}>\n            <TrackWavesurfer \n              trackId={tracks[trackIndex].id} \n              onClick={() => { \n                setPaused(!paused);\n              }} \n            />\n          </Grid>\n        </Grid>\n        <Grid container sx={{ mb: \"20px\" }} justifyContent={\"center\"} spacing={2}>\n          <Grid item xs={4}>\n            <TrackCard \n              id={curTrack.id} \n              externalPaused={paused} \n              filename={curTrack.filename} \n              playOnClick={() => {setPaused(!paused)} } \n              skipNext={skipNext}\n              skipPrevious={skipPrevious}\n            />\n          </Grid>\n          <Grid item xs={8}>\n            <DenseTable\n              name=\"Track list\"\n              headers={[\"id\", \"Track name\", \"\"]}\n              data={trackData}\n              focusIndex={trackIndex}\n              rowOnClick={handleRowClick}\n              onDelete={callDeleteTrack}\n            />\n          </Grid>\n        </Grid>\n      </>\n    )\n  }\n\n  return (\n    <Box sx={{ bgcolor: 'background.default' }}>\n      <Container id=\"features\" sx={{ py: { xs: 8, sm: 16 } }}>\n        {renderTracks()}\n      </Container>\n      <Divider />\n      <Dialog\n        open={!!dialogText}\n        onClose={closeDialog}\n        aria-labelledby=\"alert-dialog-title\"\n        aria-describedby=\"alert-dialog-description\"\n      >\n        <DialogTitle id=\"alert-dialog-title\">\n          Are you sure?\n        </DialogTitle>\n        <DialogContent>\n          <DialogContentText id=\"alert-dialog-description\">\n            {dialogText}\n          </DialogContentText>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={closeDialog}>Cancel</Button>\n          <Form method=\"DELETE\">\n            <TextField\n              id=\"dialog-input-delete\"\n              name=\"dialog-input-delete\"\n              sx={{ display:\"none\" }}\n              value={deleteId}\n            />\n            <Button type=\"submit\" autoFocus onClick={closeDialog}>\n              Confirm\n            </Button>\n          </Form>\n        </DialogActions>\n      </Dialog>\n    </Box>    \n  );\n}"],"names":["DenseTable","props","curRow","setCurRow","useState","useEffect","focusIndex","renderCol","colsVal","rowIndex","cols","map","col","colIndex","_jsx","TableCell","component","scope","align","children","concat","name","onDelete","push","sx","verticalAlign","DeleteIcon","visibility","onClick","color","TableContainer","Paper","_jsxs","Table","size","TableHead","TableRow","headers","header","index","TableBody","data","row","hover","border","background","cursor","e","rowOnClick","onMouseEnter","TrackCard","paused","setPaused","rndInt","randomIntFromInterval","min","max","Math","floor","random","undefined","externalPaused","Card","variant","p","width","xs","sm","display","flexDirection","alignItems","gap","CardMedia","height","alt","id","src","Stack","direction","spacing","useFlexGap","Typography","fontWeight","filename","textAlign","IconButton","skipPrevious","SkipPrevious","fontSize","FastRewindRounded","playOnClick","val","mx","PlayArrowRounded","PauseRounded","FastForwardRounded","skipNext","SkipNext","formatTime","seconds","minutes","secondsRemainder","round","paddedSeconds","slice","TrackWavesurfer","wavesurfer","setWavesurfer","destroy","canvas","document","createElement","ctx","getContext","gradient","createLinearGradient","addColorStop","progressGradient","ws","WaveSurfer","create","container","waveColor","progressColor","barWidth","cursorColor","hideScrollbar","plugins","Hover","lineColor","lineWidth","labelBackground","labelColor","labelSize","on","playPause","querySelector","addEventListener","style","offsetX","timeEl","durationEl","duration","textContent","currentTime","rewindEl","ffEl","pp","onclick","skip","async","loadWavesurfer","trackId","jwt","sessionStorage","getItem","url","EnumHost","LOCAL","EnumEndpoint","TRACK","res","axios","get","responseType","loadBlob","TrackPlayer","trackIndex","setTrackIndex","trackData","setTrackData","dialogText","setDialogText","deleteId","setDeleteId","tracks","useLoaderData","closeDialog","callDeleteTrack","useCallback","track","console","log","length","td","handleRowClick","newIndex","Box","bgcolor","Container","py","renderTracks","curTrack","_Fragment","Grid","mb","item","justifyContent","md","Divider","Dialog","open","onClose","DialogTitle","DialogContent","DialogContentText","DialogActions","Button","Form","method","TextField","value","type","autoFocus"],"sourceRoot":""}